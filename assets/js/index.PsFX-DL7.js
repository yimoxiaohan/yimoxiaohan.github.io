const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index.Cq-zqlIs.js","./vue.C8fqicgt.js","../css/index.Crs6O4xz.css","./index.Ajv68FTq.js","../css/index.DsCCCfvd.css","./index.Bah3pj1c.js","../css/index.Do4fAHZL.css","./index.CoFT8pRq.js","../css/index.BW91Yhp0.css","./index.C5NYVKnh.js","../css/index.DbjE0LqK.css","./index.DheEwNrB.js","../css/index.MqIzyEDD.css"])))=>i.map(i=>d[i]);
import{c as e,r as t,o as r,u as n,w as o,a as i,b as s,F as a,d as l,e as u,f as c,n as p,g as d,h as f,i as m,t as h,j as y,k as g,l as _,m as v,p as b}from"./vue.C8fqicgt.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const E=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,I=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,w=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function k(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t}function A(e,t){if(null==e)return;let r=e;for(let n=0;n<t.length;n++){if(null==r||null==r[t[n]])return;r=r[t[n]]}return r}function N(e,t,r){if(0===r.length)return t;const n=r[0];return r.length>1&&(t=N("object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,n)?e[n]:Number.isInteger(Number(r[1]))?[]:{},t,Array.prototype.slice.call(r,1))),Number.isInteger(Number(n))&&Array.isArray(e)?e.slice()[n]:Object.assign({},e,{[n]:t})}function P(e,t){if(null==e||0===t.length)return e;if(1===t.length){if(null==e)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const r={};for(const t in e)r[t]=e[t];return delete r[t[0]],r}if(null==e[t[0]]){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const r={};for(const t in e)r[t]=e[t];return r}return N(e,P(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function L(e,t){return t.map(e=>e.split(".")).map(t=>[t,A(e,t)]).filter(e=>void 0!==e[1]).reduce((e,t)=>N(e,t[1],t[0]),{})}function O(e,t){return t.map(e=>e.split(".")).reduce((e,t)=>P(e,t),e)}function x(e,{storage:t,serializer:r,key:n,debug:o,pick:i,omit:s,beforeHydrate:a,afterHydrate:l},u,c=!0){try{c&&a?.(u);const o=t.getItem(n);if(o){const t=r.deserialize(o),n=i?L(t,i):t,a=s?O(n,s):n;e.$patch(a)}c&&l?.(u)}catch(p){}}function S(e,{storage:t,serializer:r,key:n,debug:o,pick:i,omit:s}){try{const o=i?L(e,i):e,a=s?O(o,s):o,l=r.serialize(a);t.setItem(n,l)}catch(a){}}var T=function(e={}){return function(t){!function(e,t,r){const{pinia:n,store:o,options:{persist:i=r}}=e;if(!i)return;if(!(o.$id in n.state.value)){const e=n._s.get(o.$id.replace("__hot:",""));return void(e&&Promise.resolve().then(()=>e.$persist()))}const s=(Array.isArray(i)?i:!0===i?[{}]:[i]).map(t);o.$hydrate=({runHooks:t=!0}={})=>{s.forEach(r=>{x(o,r,e,t)})},o.$persist=()=>{s.forEach(e=>{S(o.$state,e)})},s.forEach(t=>{x(o,t,e),o.$subscribe((e,r)=>S(r,t),{detached:!0})})}(t,r=>({key:(e.key?e.key:e=>e)(r.key??t.store.$id),debug:r.debug??e.debug??!1,serializer:r.serializer??e.serializer??{serialize:e=>JSON.stringify(e),deserialize:e=>function(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!w.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(E.test(e)||I.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,k)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}(e)},storage:r.storage??e.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),e.auto??!1)}}();const j=e();j.use(T);const R={},$=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};const o=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),s=i?.nonce||i?.getAttribute("nonce");n=e(t.map(e=>{if(e=function(e,t){return new URL(e,t).href}(e,r),e in R)return;R[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(!!r)for(let r=o.length-1;r>=0;r--){const n=o[r];if(n.href===e&&(!t||"stylesheet"===n.rel))return}else if(document.querySelector(`link[href="${e}"]${n}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,s&&i.setAttribute("nonce",s),document.head.appendChild(i),t?new Promise((t,r)=>{i.addEventListener("load",t),i.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},F=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r},V={class:"love-app"},z=F({__name:"index",setup(e){const y=[{path:"/loveTime",label:"恋爱进行时"},{path:"/story",label:"心动日记"},{path:"/letter",label:"一封情书"},{path:"/missing",label:"在想你"},{path:"/birthday",label:"生日快乐"}],g=t(null),_=n();function v(e){p(()=>{if(!g.value)return;const t=g.value.querySelectorAll("a");for(const r of t){const t=r.getAttribute("href");if(t&&(t.endsWith(e)||t===e||t==="#"+e)){r.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"});break}}})}function b(e){e.currentTarget.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}return r(()=>{v(_.path)}),o(()=>_.path,e=>{v(e)}),(e,t)=>{const r=c("router-link"),n=c("router-view");return d(),i("div",V,[s("header",null,[s("nav",{ref_key:"navRef",ref:g},[(d(),i(a,null,l(y,e=>u(r,{key:e.path,to:e.path,"active-class":"active-link",onClick:b},{default:f(()=>[m(h(e.label),1)]),_:2},1032,["to"])),64))],512)]),s("main",null,[u(n)])])}}},[["__scopeId","data-v-38032c88"]]),D=y({history:g(),routes:[{path:"/loveTime",redirect:"/loveTime/index",component:z,children:[{path:"/loveTime/index",component:()=>$(()=>import("./index.Cq-zqlIs.js"),__vite__mapDeps([0,1,2]),import.meta.url)}]},{path:"/letter",redirect:"/letter/index",component:z,children:[{path:"/letter/index",component:()=>$(()=>import("./index.Ajv68FTq.js"),__vite__mapDeps([3,1,4]),import.meta.url)}]},{path:"/story",redirect:"/story/index",component:z,children:[{path:"/story/index",component:()=>$(()=>import("./index.Bah3pj1c.js"),__vite__mapDeps([5,1,6]),import.meta.url)}]},{path:"/missing",redirect:"/missing/index",component:z,children:[{path:"/missing/index",component:()=>$(()=>import("./index.CoFT8pRq.js"),__vite__mapDeps([7,1,8]),import.meta.url)}]},{path:"/birthday",redirect:"/birthday/index",component:z,children:[{path:"/birthday/index",component:()=>$(()=>import("./index.C5NYVKnh.js"),__vite__mapDeps([9,1,10]),import.meta.url)}]},{path:"/login",component:()=>$(()=>import("./index.DheEwNrB.js"),__vite__mapDeps([11,1,12]),import.meta.url)},{path:"/",redirect:"/loveTime"}]}),M=""+new URL("../mp3/LoveStory.BNT5NEtk.mp3",import.meta.url).href,H=""+new URL("../mp3/RiverFlowsInYou.AmXGBF47.mp3",import.meta.url).href,U=""+new URL("../mp3/SunnyDays.Dl8wMexY.mp3",import.meta.url).href,Y=_("common",{state:()=>({isLogin:!1,isPlayMusic:!1}),actions:{setIsLogin(e){this.isLogin=e},togglePlayStatus(e){this.isPlayMusic=e}},persist:{storage:sessionStorage}}),q=F({__name:"MusicPlayer",setup(e){const n=t(null),s=Y(),a=Object.assign({"../assets/music/LoveStory.mp3":M,"../assets/music/RiverFlowsInYou.mp3":H,"../assets/music/SunnyDays.mp3":U}),l=Object.values(a).map(e=>e.default||e),u=()=>{if(n.value){const e=(()=>{const e=Math.floor(Math.random()*l.length);return l[e]})();n.value.pause(),n.value.src=e,n.value.load(),n.value.play().catch(e=>{})}},c=()=>{u()};return o(()=>s.isPlayMusic,e=>{n.value&&(e?n.value.src?n.value.play().catch(e=>{}):u():n.value.pause())}),r(()=>{s.togglePlayStatus(!1)}),(e,t)=>(d(),i("audio",{id:"audioPlayer",ref_key:"audioPlayer",ref:n,loop:"",onEnded:c},null,544))}},[["__scopeId","data-v-bfafec3a"]]),C={__name:"App",setup:e=>(e,t)=>{const r=c("router-view");return d(),i(a,null,[u(v(q)),u(r)],64)}};D.beforeEach(async e=>Y().isLogin?"/login"!==e.path||{path:"/"}:"/login"===e.path||{path:"/login"});const J=b(C);J.use(j).use(D),J.mount("#app");export{F as _,D as r,Y as u};
